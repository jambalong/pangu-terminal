<%= turbo_frame_tag "main_content" do %>
  <div class="container mx-auto px-4 py-8">
    <div class="flex justify-between items-center mb-8">
      <h1 class="text-3xl font-bold text-white">Inventory</h1>
      
      <%= form_with url: inventory_items_path, method: :get, 
          data: { turbo_frame: "inventory-grid", turbo_action: "advance" }, 
          class: "flex gap-4" do |f| %>
        
        <%= f.text_field :query, placeholder: "Search...", 
            class: "bg-slate-800 border-slate-700 text-white rounded px-4 py-2",
            oninput: "this.form.requestSubmit()" %>
            
        <%= f.select :category, options_for_select(Material.distinct.pluck(:category), params[:category]), 
            { include_blank: "All Categories" }, 
            { class: "bg-slate-800 border-slate-700 text-white rounded px-4 py-2", onchange: "this.form.requestSubmit()" } %>
      <% end %>
    </div>

    <%= turbo_frame_tag "inventory-grid" do %>
      <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6">
        <%= render @inventory_items %>
      </div>
      
      <% if @inventory_items.empty? %>
        <div class="col-span-full text-center text-slate-500 py-12">
          No materials found.
        </div>
      <% end %>
    <% end %>
  </div>
<% end %>